<!DOCTYPE html>
<html>
<head>
    <title>LoRa Data Server</title>
    <meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="/css/style.css">
    <script src="/js/transparency.js"></script>
    <script src="/js/bundle.js"></script>
</head>
<body>
	<div id="state-loading">
		loading
	</div>
	<div id="state-login" hidden>
		<form onsubmit="return App.submitLogin(event)">
            <h1>LoRa Data Server</h1>
			<input type="text" name="login" placeholder="Username">
			<input type="password" name="password" placeholder="Password">
			<input type="submit" value="Login">
		</form>
	</div>
	<div id="state-app" hidden>
        <header>
            <div class="menuToggle" onclick="TreeMenu.toggleMenu()">
                <!-- Hamburger menu icon -->
                <svg width="6" height="6" viewBox="0 0 6 6" class="burger">
                    <rect x="0" y="0" width="6" height="1" style="fill:rgb(255,255,255);" />
                    <rect x="0" y="2" width="6" height="1" style="fill:rgb(255,255,255);" />
                    <rect x="0" y="4" width="6" height="1" style="fill:rgb(255,255,255);" />
                </svg>
            </div>
            <h1>LoRa Data Server</h1>
            <div class="user">
                <span id="loggedUser"></span>
                <button onclick="App.submitLogout()" title="Logout">Logout</button>
            </div>
        </header>
		<aside class="hidden">
            <div class="menu globalAdmin">
                <a href="/users/">Users</a>
            </div>
			<div id="organizations-list" hidden="true">
        		<div class="organization">
	  				<button onclick="TreeMenu.toggleList(this, TreeMenu.updateAppList)">+</button>
	  				<a href="#" data-bind="name"></a>
  					<ul class="applications collapsed">
  						<li class="application">
                            <button onclick="TreeMenu.toggleList(this)">+</button>
  							<a data-bind="name"></a>
							<ul class="collapsed">
								<li>
									<button onclick="TreeMenu.toggleList(this, TreeMenu.updateDeviceList)">+</button>
									Devices
									<ul class="devices collapsed">
										<li class="device">
                                            <a href="#" data-bind="name"></a>
                                        </li>
									</ul>
								</li>
                                <li>
									<button onclick="TreeMenu.toggleList(this, TreeMenu.updateDatasets)">+</button>
									Datasets
									<ul class="datasets collapsed">
										<li class="dataset">
                                            <a href="#" data-bind="name"></a>
                                        </li>
									</ul>
								</li>
                                <li>
									<button onclick="TreeMenu.toggleList(this, TreeMenu.updateViews)">+</button>
									Views
									<ul class="views collapsed">
										<li class="view">
                                            <a href="#" data-bind="name"></a>
                                        </li>
									</ul>
								</li>
							</ul>
						</li>
					</ul>
        		</div>
			</div>
		</aside>
		<main>
            <div class="content">
				<div data-content="page"></div>
                <div data-content="index"></div>
                <div data-content="notFound">
                    <h2>Not found</h2>
                </div>
                <div data-content="application">
                    <h2 data-bind="name"></h2>
                    <a href="#" data-bind="newDataset">New Dataset</a>
                    <a href="#" data-bind="newView">New View</a>
                </div>

    			<div data-content="datasetValues">
                    <div class="title">
                        <h2>Dataset <span class="name"></span></h2>
                        <button onclick="DatasetPages.deleteCurrent()">Delete</button>
                    </div>
                    <table></table>
                </div>
            </div>
		</main>
	</div>
</body>
</html>
